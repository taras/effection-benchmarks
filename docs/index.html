<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.13.3">
<title>Effection Performance Dashboard</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight,alt,wide.db1cdf55.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight,alt,wide.db1cdf55.css">
<link rel="modulepreload" href="./_observablehq/client.974d6367.js">
<link rel="modulepreload" href="./_observablehq/runtime.e080113b.js">
<link rel="modulepreload" href="./_observablehq/stdlib.1e402d01.js">
<link rel="modulepreload" href="./_node/@observablehq/plot@0.6.17/index.6275e3ca.js">
<link rel="modulepreload" href="./_node/@observablehq/inputs@0.12.0/index.4eed0a6e.js">
<link rel="modulepreload" href="./_node/@duckdb/duckdb-wasm@1.33.1-dev18.0/index.b6596921.js">
<link rel="modulepreload" href="./_node/apache-arrow@21.1.0/index.358d31ce.js">
<link rel="modulepreload" href="./_node/d3@7.9.0/index.78d2dedb.js">
<link rel="modulepreload" href="./_node/isoformat@0.2.1/index.0882e9d9.js">
<link rel="modulepreload" href="./_node/interval-tree-1d@1.0.4/index.eeaa354d.js">
<link rel="modulepreload" href="./_node/htl@0.3.1/index.0caf36e7.js">
<link rel="modulepreload" href="./_node/apache-arrow@17.0.0/index.5bf8ca6e.js">
<link rel="modulepreload" href="./_node/tslib@2.8.1/index.b1632567.js">
<link rel="modulepreload" href="./_node/flatbuffers@25.9.23/index.cd275b3e.js">
<link rel="modulepreload" href="./_node/d3-array@3.2.4/index.f89e3560.js">
<link rel="modulepreload" href="./_node/d3-axis@3.0.0/index.34ded868.js">
<link rel="modulepreload" href="./_node/d3-brush@3.0.0/index.76e53644.js">
<link rel="modulepreload" href="./_node/d3-chord@3.0.1/index.eb7a3f59.js">
<link rel="modulepreload" href="./_node/d3-color@3.1.0/index.e8c126ff.js">
<link rel="modulepreload" href="./_node/d3-contour@4.0.2/index.dec5b7e9.js">
<link rel="modulepreload" href="./_node/d3-delaunay@6.0.4/index.1771ba9f.js">
<link rel="modulepreload" href="./_node/d3-dispatch@3.0.1/index.be49ca5f.js">
<link rel="modulepreload" href="./_node/d3-drag@3.0.0/index.d3ae5f0f.js">
<link rel="modulepreload" href="./_node/d3-dsv@3.0.1/index.48418e2e.js">
<link rel="modulepreload" href="./_node/d3-ease@3.0.1/index.09153f73.js">
<link rel="modulepreload" href="./_node/d3-fetch@3.0.1/index.a14b8fa2.js">
<link rel="modulepreload" href="./_node/d3-force@3.0.0/index.952bd793.js">
<link rel="modulepreload" href="./_node/d3-format@3.1.2/index.462d0a06.js">
<link rel="modulepreload" href="./_node/d3-geo@3.1.1/index.75f0ca91.js">
<link rel="modulepreload" href="./_node/d3-hierarchy@3.1.2/index.0a013d9a.js">
<link rel="modulepreload" href="./_node/d3-interpolate@3.0.1/index.7ed7c7fe.js">
<link rel="modulepreload" href="./_node/d3-path@3.1.0/index.c2b3c473.js">
<link rel="modulepreload" href="./_node/d3-polygon@3.0.1/index.32c3d834.js">
<link rel="modulepreload" href="./_node/d3-quadtree@3.0.1/index.e9fed2eb.js">
<link rel="modulepreload" href="./_node/d3-random@3.0.1/index.fd2cc361.js">
<link rel="modulepreload" href="./_node/d3-scale@4.0.2/index.67b2113e.js">
<link rel="modulepreload" href="./_node/d3-scale-chromatic@3.1.0/index.7961cbed.js">
<link rel="modulepreload" href="./_node/d3-selection@3.0.0/index.13204b25.js">
<link rel="modulepreload" href="./_node/d3-shape@3.2.0/index.b551bc1c.js">
<link rel="modulepreload" href="./_node/d3-time@3.1.0/index.8fcc123e.js">
<link rel="modulepreload" href="./_node/d3-time-format@4.1.0/index.20c5f3ca.js">
<link rel="modulepreload" href="./_node/d3-timer@3.0.1/index.0ee6092b.js">
<link rel="modulepreload" href="./_node/d3-transition@3.0.1/index.d140d658.js">
<link rel="modulepreload" href="./_node/d3-zoom@3.0.0/index.78e4486d.js">
<link rel="modulepreload" href="./_node/binary-search-bounds@2.0.5/index.990a1c6d.js">
<link rel="modulepreload" href="./_node/flatbuffers@24.12.23/index.cd275b3e.js">
<link rel="modulepreload" href="./_node/internmap@2.0.3/index.4106013c.js">
<link rel="modulepreload" href="./_node/delaunator@5.0.1/index.70ae1478.js">
<link rel="modulepreload" href="./_node/robust-predicates@3.0.2/index.bdc459cc.js">
<script type="module">

import {define} from "./_observablehq/client.974d6367.js";
import {registerFile} from "./_observablehq/stdlib.1e402d01.js";

registerFile("./data/benchmarks.parquet", {"name":"./data/benchmarks.parquet","path":"./_file/data/benchmarks.0e7a75d4.parquet","lastModified":1771685828709,"size":4588});

define({id: "a34dc30c", outputs: ["Plot","Inputs","duckdb","arrow"], body: async () => {
const [Plot, Inputs, duckdb, arrow] = await Promise.all([import("./_node/@observablehq/plot@0.6.17/index.6275e3ca.js"), import("./_node/@observablehq/inputs@0.12.0/index.4eed0a6e.js"), import("./_node/@duckdb/duckdb-wasm@1.33.1-dev18.0/index.b6596921.js"), import("./_node/apache-arrow@21.1.0/index.358d31ce.js")]);

return {Plot,Inputs,duckdb,arrow};
}});

define({id: "17903853", inputs: ["duckdb","FileAttachment"], outputs: ["DUCKDB_BUNDLES","bundle","logger","worker","db","parquetBuffer","conn"], body: async (duckdb,FileAttachment) => {
// Initialize DuckDB WASM
const DUCKDB_BUNDLES = {
  mvp: {
    mainModule: new URL("./_node/@duckdb/duckdb-wasm@1.33.1-dev18.0/dist/duckdb-mvp.wasm", location).href,
    mainWorker: new URL("./_node/@duckdb/duckdb-wasm@1.33.1-dev18.0/dist/duckdb-browser-mvp.worker.47b59aaa.js", location).href,
  },
  eh: {
    mainModule: new URL("./_node/@duckdb/duckdb-wasm@1.33.1-dev18.0/dist/duckdb-eh.wasm", location).href,
    mainWorker: new URL("./_node/@duckdb/duckdb-wasm@1.33.1-dev18.0/dist/duckdb-browser-eh.worker.afc95dac.js", location).href,
  },
};

const bundle = await duckdb.selectBundle(DUCKDB_BUNDLES);
const logger = new duckdb.ConsoleLogger(duckdb.LogLevel.WARNING);
const worker = await duckdb.createWorker(bundle.mainWorker);
const db = new duckdb.AsyncDuckDB(logger, worker);
await db.instantiate(bundle.mainModule);
await db.open({});

// Load the parquet file
const parquetBuffer = await FileAttachment("./data/benchmarks.parquet").arrayBuffer();
await db.registerFileBuffer("benchmarks.parquet", new Uint8Array(parquetBuffer));
const conn = await db.connect();
await conn.query("CREATE TABLE benchmarks AS SELECT * FROM parquet_scan('benchmarks.parquet')");
return {DUCKDB_BUNDLES,bundle,logger,worker,db,parquetBuffer,conn};
}});

define({id: "2bf77f6b", inputs: ["db"], outputs: ["query"], body: (db) => {
// Helper to run SQL and get array of objects
async function query(sql) {
  const c = await db.connect();
  try {
    const result = await c.query(sql);
    return result.toArray().map((row) => Object.fromEntries(Object.entries(row.toJSON()).map(([k, v]) => [k, typeof v === "bigint" ? Number(v) : v])));
  } finally {
    await c.close();
  }
}
return {query};
}});

define({id: "8971f837", inputs: ["Inputs","Generators"], outputs: ["scenarioInput","scenario"], body: (Inputs,Generators) => {
const scenarioInput = Inputs.select(["recursion", "events"], {label: "Scenario", value: "recursion"});
const scenario = Generators.input(scenarioInput);
return {scenarioInput,scenario};
}});

define({id: "5f862533", inputs: ["Inputs","Generators"], outputs: ["runtimeInput","runtime"], body: (Inputs,Generators) => {
const runtimeInput = Inputs.select(["node", "deno", "playwright-chromium"], {label: "Runtime", value: "node"});
const runtime = Generators.input(runtimeInput);
return {runtimeInput,runtime};
}});

define({id: "86e4da61", mode: "inline", inputs: ["scenarioInput","display"], body: async (scenarioInput,display) => {
display(await(
scenarioInput
))
}});

define({id: "8a1f7f09", mode: "inline", inputs: ["runtimeInput","display"], body: async (runtimeInput,display) => {
display(await(
runtimeInput
))
}});

define({id: "ee26f413", mode: "inline", inputs: ["scenario","display"], body: async (scenario,display) => {
display(await(
scenario
))
}});

define({id: "d92c6a81", mode: "inline", inputs: ["runtime","display"], body: async (runtime,display) => {
display(await(
runtime
))
}});

define({id: "12ab379c", inputs: ["query","scenario","runtime"], outputs: ["perfOverReleases"], body: async (query,scenario,runtime) => {
const perfOverReleases = await query(`
  SELECT releaseTag, avgTime, p50, p95, p99
  FROM benchmarks
  WHERE scenario = '${scenario}' AND runtime = '${runtime}'
  ORDER BY releaseTag
`);
return {perfOverReleases};
}});

define({id: "689338b9", inputs: ["display","Plot","scenario","runtime","width","perfOverReleases"], body: (display,Plot,scenario,runtime,width,perfOverReleases) => {
display(Plot.plot({
  title: `Latency by Release (${scenario}, ${runtime})`,
  width,
  height: 400,
  x: {label: "Release", type: "point"},
  y: {label: "Time (ms)", grid: true},
  marks: [
    Plot.line(perfOverReleases, {x: "releaseTag", y: "avgTime", stroke: "steelblue", strokeWidth: 2, tip: true}),
    Plot.dot(perfOverReleases, {x: "releaseTag", y: "avgTime", fill: "steelblue"}),
    Plot.line(perfOverReleases, {x: "releaseTag", y: "p50", stroke: "green", strokeWidth: 2, tip: true}),
    Plot.dot(perfOverReleases, {x: "releaseTag", y: "p50", fill: "green"}),
    Plot.line(perfOverReleases, {x: "releaseTag", y: "p95", stroke: "orange", strokeWidth: 2, tip: true}),
    Plot.dot(perfOverReleases, {x: "releaseTag", y: "p95", fill: "orange"}),
    Plot.line(perfOverReleases, {x: "releaseTag", y: "p99", stroke: "red", strokeWidth: 2, tip: true}),
    Plot.dot(perfOverReleases, {x: "releaseTag", y: "p99", fill: "red"}),
  ]
}))
}});

define({id: "ee26f413-1", mode: "inline", inputs: ["scenario","display"], body: async (scenario,display) => {
display(await(
scenario
))
}});

define({id: "956245cb", inputs: ["query","scenario"], outputs: ["runtimeComparison"], body: async (query,scenario) => {
const runtimeComparison = await query(`
  SELECT runtime, avgTime, minTime, maxTime, p50, p95, p99
  FROM benchmarks
  WHERE scenario = '${scenario}'
    AND releaseTag = (SELECT MAX(releaseTag) FROM benchmarks)
  ORDER BY runtime
`);
return {runtimeComparison};
}});

define({id: "8781f48f", inputs: ["display","Plot","scenario","width","runtimeComparison"], body: (display,Plot,scenario,width,runtimeComparison) => {
display(Plot.plot({
  title: `Runtime Comparison — ${scenario} (latest release)`,
  width,
  height: 400,
  x: {label: "Runtime"},
  y: {label: "Time (ms)", grid: true},
  marks: [
    Plot.barY(runtimeComparison, {x: "runtime", y: "avgTime", fill: "steelblue", tip: true}),
    Plot.barY(runtimeComparison, {x: "runtime", y: "p95", fill: "orange", fillOpacity: 0.5, tip: true}),
    Plot.barY(runtimeComparison, {x: "runtime", y: "p99", fill: "red", fillOpacity: 0.3, tip: true}),
    Plot.ruleY([0]),
  ]
}))
}});

define({id: "629a51a2", inputs: ["query","scenario"], outputs: ["allData"], body: async (query,scenario) => {
const allData = await query(`
  SELECT releaseTag, runtime, scenario, avgTime, minTime, maxTime, stdDev, p50, p95, p99
  FROM benchmarks
  WHERE scenario = '${scenario}'
  ORDER BY releaseTag, runtime
`);
return {allData};
}});

define({id: "53024fe2", inputs: ["display","Inputs","allData"], body: (display,Inputs,allData) => {
display(Inputs.table(allData))
}});

define({id: "ee26f413-2", mode: "inline", inputs: ["scenario","display"], body: async (scenario,display) => {
display(await(
scenario
))
}});

define({id: "32ef6c2c", inputs: ["query","scenario"], outputs: ["allRuntimes"], body: async (query,scenario) => {
const allRuntimes = await query(`
  SELECT releaseTag, runtime, avgTime
  FROM benchmarks
  WHERE scenario = '${scenario}'
  ORDER BY releaseTag, runtime
`);
return {allRuntimes};
}});

define({id: "cd7af896", inputs: ["display","Plot","scenario","width","allRuntimes"], body: (display,Plot,scenario,width,allRuntimes) => {
display(Plot.plot({
  title: `All Runtimes — ${scenario}`,
  width,
  height: 400,
  x: {label: "Release", type: "point"},
  y: {label: "Avg Time (ms)", grid: true},
  color: {legend: true},
  marks: [
    Plot.line(allRuntimes, {x: "releaseTag", y: "avgTime", stroke: "runtime", strokeWidth: 2, tip: true}),
    Plot.dot(allRuntimes, {x: "releaseTag", y: "avgTime", fill: "runtime"}),
  ]
}))
}});

</script>
</head>
<body>
<div id="observablehq-center">
<aside id="observablehq-toc" data-selector="h1:not(:first-of-type)[id], h2:first-child[id], :not(h1) + h2[id]">
<nav>
<div>Contents</div>
<ol>
<li class="observablehq-secondary-link"><a href="#performance-over-releases">Performance Over Releases</a></li>
<li class="observablehq-secondary-link"><a href="#runtime-comparison-latest-release">Runtime Comparison (Latest Release)</a></li>
<li class="observablehq-secondary-link"><a href="#detailed-data">Detailed Data</a></li>
<li class="observablehq-secondary-link"><a href="#all-runtimes-over-releases">All Runtimes Over Releases</a></li>
</ol>
</nav>
</aside>
<main id="observablehq-main" class="observablehq">
<h1 id="effection-performance-dashboard" tabindex="-1"><a class="observablehq-header-anchor" href="#effection-performance-dashboard">Effection Performance Dashboard</a></h1>
<p>This dashboard tracks benchmark performance across releases, runtimes, and scenarios for the <a href="https://frontside.com/effection" target="_blank" rel="noopener noreferrer">Effection</a> structured concurrency library. All data is queried client-side using DuckDB WASM from a static Parquet file.</p>
<div class="observablehq observablehq--block"><!--:a34dc30c:--></div>
<div class="observablehq observablehq--block"><!--:17903853:--></div>
<div class="observablehq observablehq--block"><!--:2bf77f6b:--></div>
<div class="observablehq observablehq--block"><!--:8971f837:--></div>
<div class="observablehq observablehq--block"><!--:5f862533:--></div>
<div class="grid grid-cols-2">
  <div class="card"><observablehq-loading></observablehq-loading><!--:86e4da61:--></div>
  <div class="card"><observablehq-loading></observablehq-loading><!--:8a1f7f09:--></div>
</div>
<h2 id="performance-over-releases" tabindex="-1"><a class="observablehq-header-anchor" href="#performance-over-releases">Performance Over Releases</a></h2>
<p>Average, p50, p95, and p99 latency for <strong><observablehq-loading></observablehq-loading><!--:ee26f413:--></strong> on <strong><observablehq-loading></observablehq-loading><!--:d92c6a81:--></strong> across all releases.</p>
<div class="observablehq observablehq--block"><!--:12ab379c:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:689338b9:--></div>
<div class="note">
  <strong>Legend:</strong>
  <span style="color: steelblue;">● avg</span> ·
  <span style="color: green;">● p50</span> ·
  <span style="color: orange;">● p95</span> ·
  <span style="color: red;">● p99</span>
</div>
<h2 id="runtime-comparison-latest-release" tabindex="-1"><a class="observablehq-header-anchor" href="#runtime-comparison-latest-release">Runtime Comparison (Latest Release)</a></h2>
<p>Comparing average latency across runtimes for <strong><observablehq-loading></observablehq-loading><!--:ee26f413-1:--></strong> on the latest release.</p>
<div class="observablehq observablehq--block"><!--:956245cb:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:8781f48f:--></div>
<h2 id="detailed-data" tabindex="-1"><a class="observablehq-header-anchor" href="#detailed-data">Detailed Data</a></h2>
<div class="observablehq observablehq--block"><!--:629a51a2:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:53024fe2:--></div>
<h2 id="all-runtimes-over-releases" tabindex="-1"><a class="observablehq-header-anchor" href="#all-runtimes-over-releases">All Runtimes Over Releases</a></h2>
<p>Average latency for <strong><observablehq-loading></observablehq-loading><!--:ee26f413-2:--></strong> across all runtimes and releases.</p>
<div class="observablehq observablehq--block"><!--:32ef6c2c:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:cd7af896:--></div>
</main>
<footer id="observablehq-footer">
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2026-02-21T15:19:26">Feb 21, 2026</a>.</div>
</footer>
</div>
</body>
</html>
